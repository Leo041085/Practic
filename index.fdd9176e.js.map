{"mappings":"YA6CA,IAAMA,EAAaC,SAASC,cAAc,YACpCC,EAAQF,SAASC,cAAc,aACjCE,EAAO,EAEX,SAASC,I,IAAaC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAAQA,UAAA,GAAD,EACrBE,EAAW,+BACXC,EAAY,uBACZC,EAAU,mCAEhB,OAAOC,MAAM,GAAcC,OAAXJ,GAAgCI,OAArBH,EAAU,aAA2BG,OAAhBF,EAAQ,UAAaE,OAALP,IAAQQ,MACtE,SAAAC,GACE,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IAUtB,SAASC,EAAaC,GACpB,OAAOA,EACJC,KAAI,SAAAC,G,IAAGC,EAAED,EAAFC,GAAIC,EAAKF,EAALE,MAAOC,EAAWH,EAAXG,YACjB,MAAO,iCACwCb,OADRW,EAAG,4DAC0BX,OAArBa,EAAY,WACjDb,OAD0DY,EAAM,sBAC1DZ,OAANY,EAAM,uB,IAGjBE,KAAK,G,CAbVtB,IAAeS,MAAK,SAAAc,GAClB5B,EAAW6B,mBAAmB,YAAaT,EAAaQ,EAAKE,UAC7DC,EAASC,QAAQ7B,E,IAkCnB,IAAM4B,EAAW,IAAIE,sBAdrB,SAAkBC,EAASC,GACzBD,EAAQE,SAAQ,SAAAC,GACVA,EAAMC,gBAERjC,EADAD,GAAQ,GACWU,MAAK,SAAAc,GACtB5B,EAAW6B,mBAAmB,YAAaT,EAAaQ,EAAKE,UACzDF,EAAKW,MAAQ,KACfJ,EAASK,UAAUrC,E,SAbb,CACdsC,KAAM,KACNC,WAAY,QACZC,UAAW,G","sources":["src/start.js"],"sourcesContent":["// const moviesList = document.querySelector('.js-list');\n// const btnLoad = document.querySelector('.js-btn');\n// let page = 498;\n\n// function serviceMovie(page = 1) {\n//     const BASE_URL = 'https://api.themoviedb.org/3';\n//     const END_POINT = '/trending/movie/week';\n//     const API_KEY = '345007f9ab440e5b86cef51be6397df1';\n\n//     return fetch(`${BASE_URL}${END_POINT}?api_key=${API_KEY}&page=${page}`).then((response) => {\n//         if (!response.ok) {\n//         throw new Error(response.status)\n//         }\n//         return response.json();\n// })\n// };\n\n// serviceMovie().then((data) => {\n//     moviesList.insertAdjacentHTML('beforeend', createMarkup(data.results));\n//     btnLoad.hidden = false;\n// });\n\n// btnLoad.addEventListener('click', handlerBtnLoadMore);\n\n// function handlerBtnLoadMore() {\n//     page += 1;\n//     serviceMovie(page).then((data) => {\n//         moviesList.insertAdjacentHTML('beforeend', createMarkup(data.results));\n//         if (data.page >= 500) {\n//             btnLoad.hidden = true;\n//         }\n//     });\n// };\n\n// function createMarkup(arr) {\n//     return arr.map(({ id, title, poster_path }) => {\n//         return `<li class=\"js-item\" data-id='${id}'>\n//           <img src=\"https://image.tmdb.org/t/p/w400${poster_path}\" alt=\"${title}\">\n//           <h3>${title}</h3>\n//         </li>`\n//     }).join('');\n// };\n\n// ===============================PAGINATION WITH INFINITY SCROLL====================\n\nconst moviesList = document.querySelector('.js-list');\nconst quard = document.querySelector('.js-quard');\nlet page = 1;\n\nfunction serviceMovie(page = 1) {\n  const BASE_URL = 'https://api.themoviedb.org/3';\n  const END_POINT = '/trending/movie/week';\n  const API_KEY = '345007f9ab440e5b86cef51be6397df1';\n\n  return fetch(`${BASE_URL}${END_POINT}?api_key=${API_KEY}&page=${page}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    }\n  );\n}\n\nserviceMovie().then(data => {\n  moviesList.insertAdjacentHTML('beforeend', createMarkup(data.results));\n  observer.observe(quard);\n});\n\nfunction createMarkup(arr) {\n  return arr\n    .map(({ id, title, poster_path }) => {\n      return `<li class=\"js-item\" data-id='${id}'>\n          <img src=\"https://image.tmdb.org/t/p/w400${poster_path}\" alt=\"${title}\">\n          <h3>${title}</h3>\n        </li>`;\n    })\n    .join('');\n}\n\nconst options = {\n  root: null,\n  rootMargin: '500px',\n  threshold: 0,\n};\n\nfunction loadMore(entries, observer) {\n  entries.forEach(entry => {\n    if (entry.isIntersecting) {\n      page += 1;\n      serviceMovie(page).then(data => {\n        moviesList.insertAdjacentHTML('beforeend', createMarkup(data.results));\n        if (data.page >= 500) {\n          observer.unobserve(quard);\n        }\n      });\n    }\n  });\n}\n\nconst observer = new IntersectionObserver(loadMore, options);\n"],"names":["$f0b22d3535131318$var$moviesList","document","querySelector","$f0b22d3535131318$var$quard","$f0b22d3535131318$var$page","$f0b22d3535131318$var$serviceMovie","page1","arguments","length","BASE_URL","END_POINT","API_KEY","fetch","concat","then","response","ok","Error","status","json","$f0b22d3535131318$var$createMarkup","arr","map","param","id","title","poster_path","join","data","insertAdjacentHTML","results","$f0b22d3535131318$var$observer","observe","IntersectionObserver","entries","observer1","forEach","entry","isIntersecting","page","unobserve","root","rootMargin","threshold"],"version":3,"file":"index.fdd9176e.js.map"}